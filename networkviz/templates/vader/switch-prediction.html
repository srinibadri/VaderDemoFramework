{% extends "vader/base.html" %}
{% block style %}
{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static 'css/leaflet.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/map.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/tabordion.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/switch-prediction.css' %}" />
{% endblock %}

{% block content %}
{% include "vader/_navbar.html" %}
<style type="text/css">
    /*#topo-select { width: 3%; height: 87%; float: left; margin-right: 1%;}*/
    .map { width: 49%; height: 87%; float: left; margin-right: 1%;}
    .lastmap { margin-right: 0; float: right; }
</style>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">


<div id="wrapper" class="toggled">
    {% include "vader/_sidebar.html" %}
    <div class="page-content-wrapper">

      <div class="jumbotron text-center" style="padding: 35px; padding-bottom: 20px; margin-bottom: 0px;">
        <p>This demo presents a machine learning tool that can switch configurations and region connectivity with minimal data.</p>

        <p><b>Left side is actual state</b> populated from complete information, the <b>right side is predicted</b> using data from a small number of sensors</p>

      <!--   <div class="container">
        <img class="card-img-top" src="{% static 'images/pvdisagg.png' %}" alt="PV DisAgg" width="80%">
        </div> -->
      </div>

<!-- <div class="row"> -->
  <div class="col-md-6 left_col" role="main">
    <label for="minbeds" class="slider-label">Starting Switch Configuration: </label><br>
    <!-- <form id="starting-slider">
<label for="minbeds">Starting Switch Configuration: </label>
<select name="minbeds" id="minbeds">
  <option>1</option>
</select>
</form> -->
<div id="starting-slider">
<div id="starting-slider-handle" class="ui-slider-handle custom-handle"></div>
</div>

  </div>
  <div class="col-md-6 right_col" role="main">
    <label for="minbeds" class="">Prediction Time: </label><br>
    <div id="time-slider">
    <div id="time-slider-handle" class="ui-slider-handle custom-handle"></div>
    </div>
  </div>

<!-- </div> -->

<!-- <div class="row">
  <div class="col-md-12 left_col" role="main"> -->
        <div class="map" id="map1"></div>
        <div class="map lastmap" id="map2"></div>
        <!-- <div class="map lastmap" id="map3"></div> -->
        <!-- </div>
        </div> -->
    </div>
</div>
{% endblock %}



{% block script %}
<!-- jQuery Sparklines -->
<script src="{% static 'js/leaflet.js' %}"></script>
<script src="{% static 'js/d3.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'networkviz/gent/vendors/jquery-sparkline/dist/jquery.sparkline.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/L.Map.Sync.js' %}"></script>
<script type="text/javascript" src="{% static 'js/switch-prediction.js' %}"></script>
<script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="{% static 'js/jquery-ui.js' %}"></script>

  <script>
  $( function() {
    var handle = $( "#starting-slider-handle" );
    $( "#starting-slider" ).slider({
      min: 0,
      max: 40,
      step: 1,
      create: function() {
        handle.text( $( this ).slider( "value" ) );
      },
      slide: function( event, ui ) {
        handle.text( ui.value );
      }
    });
  } );
  </script>

  <script>
  $( function() {
    labels = {"0":"Real Time", "1":"+15 Minutes", "2":"+30 Minutes", "3":"+1 Hour",
              "4":"+2 Hours", "5":"+3 Hours", "6":"+5 Hours", "7":"+1 Day", "8":"+2 Days"}
    var handle2 = $( "#time-slider-handle" );
    $( "#time-slider" ).slider({
      min: 0,
      max: 8,
      step: 1,
      create: function() {
        handle2.text( labels[$( this ).slider( "value" )] );
      },
      slide: function( event, ui ) {
        handle2.text( labels[ui.value] );
      }
    });
  } );
  </script>
{% endblock %}
